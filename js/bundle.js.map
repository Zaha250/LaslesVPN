{"version":3,"sources":["webpack://laslesvpn/./js/modules/modal.js","webpack://laslesvpn/./js/script.js","webpack://laslesvpn/./js/modules/anchors.js","webpack://laslesvpn/./js/modules/accordion.js","webpack://laslesvpn/./js/modules/forms.js","webpack://laslesvpn/./js/services/services.js","webpack://laslesvpn/./js/modules/reviews.js","webpack://laslesvpn/./js/modules/swiper.js","webpack://laslesvpn/./js/modules/tooltip.js","webpack://laslesvpn/./js/modules/menu.js"],"names":["closeModal","modalSelector","style","display","document","body","overflow","modalTriggerSelector","modal","querySelector","querySelectorAll","forEach","trigger","addEventListener","openModal","forms","form","login","focus","e","target","classList","contains","window","anchor","preventDefault","href","getAttribute","substring","sectionPosition","getElementById","getBoundingClientRect","top","scrollBy","behavior","toggle","formSelector","showThanksModal","message","name","newModalDialog","createElement","prevModalDialog","add","innerHTML","append","setTimeout","remove","messageEl","src","cssText","insertAdjacentElement","formData","FormData","async","url","data","res","fetch","method","headers","json","postData","JSON","stringify","Object","fromEntries","entries","then","console","log","value","catch","finally","reset","bindPostData","Reviews","constructor","city","avt","rev","rating","parrentEl","this","parrent","addRev","item","ok","Error","result","status","getCardProduct","reviews","Swiper","slidesPerView","navigation","nextEl","prevEl","pagination","el","type","breakpoints","768","992","1200","tooltipEl","tooltip","dataset","coords","left","offsetWidth","offsetHeight","menuEl","triggerEl","activeClass","menu","btnBurger","toggleActiveClass","menuActive"],"mappings":"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","file":"bundle.js","sourcesContent":["function openModal(modalSelector) {\r\n  modalSelector.style.display = 'block';\r\n  document.body.style.overflow = 'hidden';\r\n}\r\n\r\nfunction closeModal(modalSelector) {\r\n  modalSelector.style.display = 'none';\r\n  document.body.style.overflow = '';\r\n}\r\n\r\nfunction modal(modalSelector, modalTriggerSelector) {\r\n  const modal = document.querySelector(modalSelector),\r\n        modalBtn = document.querySelectorAll(modalTriggerSelector);\r\n\r\n  modalBtn.forEach( trigger => {\r\n    trigger.addEventListener('click', () => {\r\n      openModal(modal);\r\n      document.forms.form.login.focus();\r\n    });\r\n  });\r\n\r\n  modal.addEventListener('click', (e) => {\r\n    if (e.target.classList.contains('modal__close') || e.target == modal) {\r\n      closeModal(modal);\r\n    }\r\n  });\r\n\r\n}\r\n\r\nexport default modal;\r\nexport {openModal, closeModal};","import acnchors from './modules/anchors';\r\nimport accordion from './modules/accordion';\r\nimport forms from './modules/forms';\r\nimport modal from './modules/modal';\r\nimport reviews from './modules/reviews';\r\nimport swiper from './modules/swiper';\r\nimport tooltip from './modules/tooltip';\r\nimport menuActive from './modules/menu';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\r\n  acnchors();\r\n  accordion();\r\n  modal('.modal', '[data-modal=\"modal-login\"]');\r\n  modal('.modal', '[data-modal=\"modal-email\"]');\r\n  forms('form', '.modal');\r\n  reviews();\r\n  swiper();\r\n  tooltip();\r\n  menuActive('.nav__menu','.nav-burger', 'active');\r\n\r\n});","function anchors() {\r\n\r\n  document.querySelectorAll('a.anchor').forEach(anchor => {\r\n    anchor.addEventListener('click', (e) => {\r\n      e.preventDefault();\r\n\r\n      const href = anchor.getAttribute('href').substring(1);\r\n\r\n      const sectionId = document.getElementById(href);\r\n\r\n      const sectionPosition = sectionId.getBoundingClientRect().top;\r\n\r\n      window.scrollBy({\r\n        top: sectionPosition - 92,\r\n        behavior: 'smooth'\r\n      });\r\n    });\r\n  });\r\n  \r\n}\r\n\r\nexport default anchors;","function accordion() {\r\n  \r\n  const footerNav = document.querySelector('.footer-nav');\r\n\r\n  footerNav.addEventListener('click', (e) => {\r\n    if (e.target.classList.contains('footer-nav__item')) {\r\n      e.target.classList.toggle('active');\r\n      // e.target.nextSibling.style.maxHeight = e.target.nextSibling.scrollHeight + 'px';\r\n    } else return;\r\n  });\r\n\r\n}\r\n\r\nexport default accordion;","import {closeModal} from './modal';\r\nimport {postData} from '../services/services';\r\n\r\nfunction forms(formSelector, modalSelector) {\r\n\r\n  const forms = document.querySelectorAll(formSelector);\r\n\r\n  forms.forEach(form => {\r\n    bindPostData(form);\r\n  });\r\n\r\n  function bindPostData(form) {\r\n    form.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n\r\n      const message = {\r\n        load: 'images/icons/spinner.svg',\r\n        succes: 'Добро пожаловать',\r\n        failed: 'Что-то пошло не так... Попробуйте позже'\r\n      };\r\n\r\n      const messageEl = document.createElement('img');\r\n      messageEl.src = message.load;\r\n      messageEl.style.cssText = `\r\n        display: block;\r\n        margin: 0 auto;\r\n      `;\r\n\r\n      form.insertAdjacentElement('afterend', messageEl);\r\n\r\n      const formData = new FormData(form);\r\n\r\n      const json = JSON.stringify(Object.fromEntries(formData.entries()));\r\n\r\n      postData('http://localhost:3000/request', json)\r\n        .then(data => {\r\n          console.log(data);\r\n          showThanksModal(message.succes, form.login.value);\r\n          messageEl.remove();\r\n        }).catch(() => {\r\n          showThanksModal(message.failed);\r\n        }).finally(() => {\r\n          form.reset();\r\n        });\r\n    });\r\n  }\r\n\r\n  function showThanksModal(message, name) {\r\n    const newModalDialog = document.createElement('div'),\r\n          prevModalDialog = document.querySelector('.modal-dialog'),\r\n          modal = document.querySelector(modalSelector);\r\n\r\n    prevModalDialog.style.display = 'none';\r\n    newModalDialog.classList.add('modal-dialog');\r\n    newModalDialog.innerHTML = `\r\n      <div class=\"modal__title title\">${message}, ${name}</div>\r\n    `;\r\n    modal.append(newModalDialog);\r\n\r\n    setTimeout(() => {\r\n      newModalDialog.remove();\r\n      prevModalDialog.style.display = 'block';\r\n      closeModal(modal);\r\n    }, 3000);\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default forms;","const postData = async (url, data) => {\r\n  const res = await fetch(url, {\r\n    method: \"POST\",\r\n    headers: { \"Content-type\": 'application/json' },\r\n    body: data\r\n  });\r\n\r\n  return await res.json();\r\n};\r\n\r\nconst getCardProduct = async (url) => {\r\n  const res = await fetch(url);\r\n\r\n  if (!res.ok) {\r\n    throw new Error(`Ошибка по адресу ${url}, status:${result.status}`);\r\n  }\r\n\r\n  return await res.json();\r\n};\r\n\r\nexport { postData, getCardProduct };","import {getCardProduct} from '../services/services';\r\n\r\nfunction reviews() {\r\n  \r\n  class Reviews {\r\n    constructor(name, city, avt, rev, rating, parrentEl) {\r\n      this.name = name;\r\n      this.city = city;\r\n      this.avt = avt;\r\n      this.rev = rev;\r\n      this.rating = rating;\r\n      this.parrent = document.querySelector(parrentEl);\r\n    }\r\n\r\n    addRev() {\r\n      const item = document.createElement('div');\r\n      item.classList.add('reviews-slider__item', 'swiper-slide');\r\n      item.innerHTML = `\r\n        <div class=\"reviews-user\">\r\n          <div class=\"reviews-user__info\">\r\n            <img class=\"reviews-user__avatar\" src=\"${this.avt}\" alt=\"${this.name}\">\r\n            <div class=\"reviews-user__info-wrapper\">\r\n              <span class=\"reviews-user__name\">${this.name}</span>\r\n              <span class=\"reviews-user__city\">${this.city}</span>\r\n            </div>\r\n          </div>\r\n          <span class=\"reviews-user__rating\">${this.rating}</span>\r\n        </div>\r\n        <p class=\"reviews__content\">${this.rev}</p>\r\n      `;\r\n\r\n      this.parrent.append(item);\r\n    }\r\n  };\r\n\r\n  //ДОБАВЛЕНИЕ ОТЗЫВОВ\r\n\r\n  getCardProduct('http://localhost:3000/cardProduct')\r\n    .then(data => {\r\n      data.forEach(({ name, city, avt, reviews, rating }) => {\r\n        new Reviews(\r\n          name, city, avt, reviews, rating, '.swiper-wrapper'\r\n        ).addRev();\r\n      });\r\n    });\r\n\r\n}\r\n\r\nexport default reviews;","function swiper() {\r\n  \r\n  const swiper = new Swiper('.swiper-container', {\r\n    slidesPerView: 3,\r\n    // spaceBetween: 50,\r\n    navigation: {\r\n      nextEl: '.swiper-button_next',\r\n      prevEl: '.swiper-button_prev'\r\n    },\r\n    pagination: {\r\n      el: '.swiper-pagination',\r\n      type: 'bullets',\r\n    },\r\n    breakpoints: {\r\n      // when window width is >= 320px\r\n      768: {\r\n        slidesPerView: 1,\r\n        // spaceBetween: 20\r\n      },\r\n      // when window width is >= 480px\r\n      992: {\r\n        slidesPerView: 2,\r\n        // spaceBetween: 30\r\n      },\r\n      // when window width is >= 640px\r\n      1200: {\r\n        slidesPerView: 3,\r\n        // spaceBetween: 40\r\n      }\r\n    }\r\n  });\r\n\r\n}\r\n\r\nexport default swiper;","function tooltip() {\r\n  \r\n  let tooltipEl;\r\n\r\n  document.addEventListener('mouseover', (e) => {\r\n    let target = e.target;\r\n    let tooltip = target.dataset.tooltip;\r\n\r\n    if (!tooltip) return;\r\n\r\n    tooltipEl = document.createElement('div');\r\n    tooltipEl.classList.add('tooltip');\r\n    tooltipEl.innerHTML = tooltip;\r\n    document.body.append(tooltipEl);\r\n\r\n    //Спозиционируем подсказку \r\n\r\n    let coords = target.getBoundingClientRect();\r\n\r\n    let left = coords.left + (target.offsetWidth - tooltipEl.offsetWidth) / 2;\r\n    if (left < 0) left = 0; // не заезжать за левый край окна\r\n\r\n    let top = coords.top - tooltipEl.offsetHeight - 5;\r\n    if (top < 0) { // если подсказка не помещается сверху, то отображать её снизу\r\n      top = coords.top + target.offsetHeight + 5;\r\n    }\r\n\r\n    tooltipEl.style.left = left + 'px';\r\n    tooltipEl.style.top = top + 'px';\r\n\r\n  });\r\n\r\n  document.addEventListener('mouseout', () => {\r\n    if (tooltipEl) {\r\n      tooltipEl.remove();\r\n      tooltipEl = null;\r\n    }\r\n  });\r\n\r\n}\r\n\r\nexport default tooltip;","function menuActive(menuEl, triggerEl, activeClass) {\r\n  const menu = document.querySelector(menuEl),\r\n        btnBurger = document.querySelector(triggerEl);\r\n\r\n  function toggleActiveClass() {\r\n    menu.classList.toggle(activeClass);\r\n    btnBurger.classList.toggle(activeClass);\r\n\r\n    document.body.style.overflow =\r\n      (menu.classList.contains(activeClass)) ? 'hidden' : '';\r\n  }      \r\n\r\n  btnBurger.addEventListener('click', () => {\r\n    toggleActiveClass();\r\n  }); \r\n  \r\n  menu.addEventListener('click', (e) => {\r\n    if (menu.classList.contains(activeClass)\r\n          && e.target.classList.contains('menu__link')\r\n    ) {\r\n      toggleActiveClass();\r\n    } \r\n  });\r\n\r\n}\r\n\r\nexport default menuActive;"],"sourceRoot":""}