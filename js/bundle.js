!function(){"use strict";function e(e){e.style.display="none",document.body.style.overflow=""}var t=function(t,n){const s=document.querySelector(t);document.querySelectorAll(n).forEach((e=>{e.addEventListener("click",(()=>{!function(e){e.style.display="block",document.body.style.overflow="hidden"}(s),document.forms.form.login.focus()}))})),s.addEventListener("click",(t=>{(t.target.classList.contains("modal__close")||t.target==s)&&e(s)}))};window.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("a.anchor").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href").substring(1),s=document.getElementById(n).getBoundingClientRect().top;window.scrollBy({top:s-92,behavior:"smooth"})}))})),document.querySelector(".footer-nav").addEventListener("click",(e=>{e.target.classList.contains("footer-nav__item")&&e.target.classList.toggle("active")})),t(".modal",'[data-modal="modal-login"]'),t(".modal",'[data-modal="modal-email"]'),function(t,n){function s(t,s){const i=document.createElement("div"),o=document.querySelector(".modal-dialog"),a=document.querySelector(n);o.style.display="none",i.classList.add("modal-dialog"),i.innerHTML=`\n      <div class="modal__title title">${t}, ${s}</div>\n    `,a.append(i),setTimeout((()=>{i.remove(),o.style.display="block",e(a)}),3e3)}document.querySelectorAll(t).forEach((e=>{!function(e){e.addEventListener("submit",(t=>{t.preventDefault();const n="images/icons/spinner.svg",i="Добро пожаловать",o="Что-то пошло не так... Попробуйте позже",a=document.createElement("img");a.src=n,a.style.cssText="\n        display: block;\n        margin: 0 auto;\n      ",e.insertAdjacentElement("afterend",a);const r=new FormData(e);(async(e,t)=>{const n=await fetch("http://localhost:3000/request",{method:"POST",headers:{"Content-type":"application/json"},body:t});return await n.json()})(0,JSON.stringify(Object.fromEntries(r.entries()))).then((t=>{console.log(t),s(i,e.login.value),a.remove()})).catch((()=>{s(o)})).finally((()=>{e.reset()}))}))}(e)}))}("form",".modal"),function(){class e{constructor(e,t,n,s,i,o){this.name=e,this.city=t,this.avt=n,this.rev=s,this.rating=i,this.parrent=document.querySelector(o)}addRev(){const e=document.createElement("div");e.classList.add("reviews-slider__item","swiper-slide"),e.innerHTML=`\n        <div class="reviews-user">\n          <div class="reviews-user__info">\n            <img class="reviews-user__avatar" src="${this.avt}" alt="${this.name}">\n            <div class="reviews-user__info-wrapper">\n              <span class="reviews-user__name">${this.name}</span>\n              <span class="reviews-user__city">${this.city}</span>\n            </div>\n          </div>\n          <span class="reviews-user__rating">${this.rating}</span>\n        </div>\n        <p class="reviews__content">${this.rev}</p>\n      `,this.parrent.append(e)}}(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Ошибка по адресу ${e}, status:${result.status}`);return await t.json()})("http://localhost:3000/cardProduct").then((t=>{t.forEach((({name:t,city:n,avt:s,reviews:i,rating:o})=>{new e(t,n,s,i,o,".swiper-wrapper").addRev()}))}))}(),new Swiper(".swiper-container",{slidesPerView:3,navigation:{nextEl:".swiper-button_next",prevEl:".swiper-button_prev"},pagination:{el:".swiper-pagination",type:"bullets"},breakpoints:{768:{slidesPerView:1},992:{slidesPerView:2},1200:{slidesPerView:3}}}),function(){let e;document.addEventListener("mouseover",(t=>{let n=t.target,s=n.dataset.tooltip;if(!s)return;e=document.createElement("div"),e.classList.add("tooltip"),e.innerHTML=s,document.body.append(e);let i=n.getBoundingClientRect(),o=i.left+(n.offsetWidth-e.offsetWidth)/2;o<0&&(o=0);let a=i.top-e.offsetHeight-5;a<0&&(a=i.top+n.offsetHeight+5),e.style.left=o+"px",e.style.top=a+"px"})),document.addEventListener("mouseout",(()=>{e&&(e.remove(),e=null)}))}(),function(e,t,n){const s=document.querySelector(e),i=document.querySelector(t);function o(){s.classList.toggle(n),i.classList.toggle(n),document.body.style.overflow=s.classList.contains(n)?"hidden":""}i.addEventListener("click",(()=>{o()})),s.addEventListener("click",(e=>{s.classList.contains(n)&&e.target.classList.contains("menu__link")&&o()}))}(".nav__menu",".nav-burger","active")}))}();
//# sourceMappingURL=bundle.js.map